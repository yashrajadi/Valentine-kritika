<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Kritika ðŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body{
margin:0;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#ff9acb,#ffd6ec,#ffe8f5);
font-family:Poppins,sans-serif;
overflow:hidden;
transition:background 1s ease;
}

/* envelope */
#envelopeScreen{
position:absolute; inset:0;
display:flex; flex-direction:column;
justify-content:center; align-items:center;
background:linear-gradient(135deg,#ff9acb,#ffd6ec,#ffe8f5);
z-index:5; cursor:pointer;
transition:opacity .8s ease;
}

.envelope{
font-size:90px;
animation:float 2s ease-in-out infinite alternate;
}
@keyframes float{from{transform:translateY(0)}to{transform:translateY(-20px)}}

.tap{color:white;margin-top:10px}

/* card */
.card{
display:none;
background:white;
padding:40px;
border-radius:30px;
text-align:center;
box-shadow:0 20px 50px rgba(0,0,0,0.2);
max-width:360px;
animation:fadeScale 1s ease forwards;
}

@keyframes fadeScale{
from{opacity:0; transform:scale(.7)}
to{opacity:1; transform:scale(1)}
}

h1{font-family:Pacifico;color:#ff2f7f}

button{
border:none;
padding:15px 25px;
border-radius:50px;
font-size:18px;
margin:10px;
cursor:pointer;
transition:all .35s cubic-bezier(.2,.8,.2,1);
position:relative;
}

#yes{background:#ff4d8d;color:white;z-index:2}
#no{background:#eee;color:#555}

button:hover{transform:scale(1.1)}

img{
width:200px;
border-radius:20px;
margin:20px 0;
transition:all .6s ease;
}

/* floating hearts */
.heart{
position:absolute;
color:#ff4d8d;
font-size:20px;
animation:floatUp 6s linear infinite;
}
@keyframes floatUp{
0%{transform:translateY(100vh) scale(.5);opacity:0}
100%{transform:translateY(-10vh) scale(1.5);opacity:1}
}
</style>
</head>

<body>

<audio id="music" loop preload="auto">
<source src="https://cdn.pixabay.com/audio/2022/03/15/audio_6d4c2f7d1b.mp3">
</audio>

<!-- envelope -->
<div id="envelopeScreen">
<div class="envelope">ðŸ’Œ</div>
<div class="tap">Tap to open your letter</div>
</div>

<!-- main card -->
<div class="card" id="card">
<h1>Kritika ðŸ’–</h1>
<p id="typed"></p>

<img id="gif" src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif">

<div>
<button id="yes">Yes ðŸ’˜</button>
<button id="no">No ðŸ¥º</button>
</div>
</div>

<script>

const env=document.getElementById("envelopeScreen");
const card=document.getElementById("card");
const music=document.getElementById("music");

/* open envelope */
env.onclick=()=>{
env.style.opacity=0;
setTimeout(()=>env.style.display="none",800);
card.style.display="block";
music.play().catch(()=>{});
startTyping();
};

/* typing text */
const text="From the moment you came into my life, everything felt softer, warmer, and brighterâ€¦ so today I just want to ask one thing.";
let i=0;
function startTyping(){
const el=document.getElementById("typed");
let t=setInterval(()=>{
el.innerHTML+=text[i];
i++;
if(i>=text.length) clearInterval(t);
},35);
}

/* floating hearts */
setInterval(()=>{
const h=document.createElement("div");
h.className="heart";
h.innerHTML="â¤";
h.style.left=Math.random()*100+"vw";
h.style.fontSize=(10+Math.random()*20)+"px";
document.body.appendChild(h);
setTimeout(()=>h.remove(),6000);
},400);

/* sad gifs */
const sad=[
"https://media.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif",
"https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif",
"https://media.giphy.com/media/ISOckXUybVfQ4/giphy.gif",
"https://media.giphy.com/media/9Y5BbDSkSTiY8/giphy.gif"
];

let clicks=0;
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const gif=document.getElementById("gif");

no.onclick=()=>{
clicks++;
gif.src=sad[Math.min(clicks-1,sad.length-1)];
let scale=1+(clicks*0.3);
yes.style.transform="scale("+scale+")";
no.style.position="absolute";
no.style.left=Math.random()*80+"%";
no.style.top=Math.random()*80+"%";
if(scale>3){ yes.style.zIndex="3"; no.style.zIndex="0"; }
};

/* FINAL YES */
yes.onclick=()=>{
confetti({particleCount:300,spread:140});
document.querySelector(".card").innerHTML=
"<img style='animation:fadeScale 1s ease' src='https://media.giphy.com/media/11sBLVxNs7v6WA/giphy.gif'>\
<h1>Thank you for choosing me ðŸ’–</h1>\
<p>You have no idea how much this means to meâ€¦ sending you the softest gratitude kiss ðŸ˜˜</p>\
<p style='font-size:40px'>ðŸ’‹</p>";
};

</script>
</body>
</html>